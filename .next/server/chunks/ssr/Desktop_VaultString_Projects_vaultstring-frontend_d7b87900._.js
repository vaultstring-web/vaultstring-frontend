module.exports=[12538,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b,"default",0,b])},78807,a=>{"use strict";var b=a.i(70839),c=a.i(41691);function d({title:a,subtitle:d,action:e,variant:f="card"}){return"hero"===f?(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-green-600 via-green-500 to-emerald-500",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay"}),(0,b.jsxs)("div",{className:"p-6 lg:p-8 text-white flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:a}),d&&(0,b.jsx)("p",{className:"mt-1 text-white",children:d})]}),e&&(0,b.jsx)("div",{children:e})]})]}):(0,b.jsxs)(c.Card,{className:"bg-white border",children:[(0,b.jsxs)(c.CardHeader,{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(c.CardTitle,{className:"text-2xl",children:a}),d&&(0,b.jsx)(c.CardDescription,{className:"mt-1",children:d})]}),e&&(0,b.jsx)("div",{"data-slot":"card-action",children:e})]}),(0,b.jsx)(c.CardContent,{})]})}a.s(["default",()=>d])},60906,a=>{"use strict";var b=a.i(70839),c=a.i(59763);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-input dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},71164,a=>{"use strict";var b=a.i(70839),c=a.i(16951),d=a.i(10648),e=a.i(59763);function f({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,e.cn)("w-full caption-bottom text-sm",a),...c})})}function g({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,e.cn)("[&_tr]:border-b",a),...c})}function h({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,e.cn)("[&_tr:last-child]:border-0",a),...c})}function i({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,e.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function j({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,e.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function k({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,e.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function l({transactions:a}){return(0,b.jsx)("div",{className:"bg-white rounded-xl border overflow-hidden",children:(0,b.jsxs)(f,{className:"min-w-full",children:[(0,b.jsx)(g,{children:(0,b.jsxs)(i,{className:"bg-slate-50 text-left text-sm text-slate-600",children:[(0,b.jsx)(j,{className:"px-4 text-slate-600 py-3",children:"Date"}),(0,b.jsx)(j,{className:"px-4 text-slate-600 py-3",children:"Reference"}),(0,b.jsx)(j,{className:"px-4 text-slate-600 py-3",children:"Amount"}),(0,b.jsx)(j,{className:"px-4 text-slate-600 py-3",children:"Currency"}),(0,b.jsx)(j,{className:"px-4 text-slate-600 py-3",children:"Status"})]})}),(0,b.jsx)(h,{children:a.map(a=>{let c,d,e;return(0,b.jsxs)(i,{className:"text-sm text-slate-900 hover:bg-slate-50",children:[(0,b.jsx)(k,{className:"px-4 py-3",children:String(a.created_at||a.initiated_at||"")}),(0,b.jsx)(k,{className:"px-4 py-3 font-mono",children:String(a.reference||a.id||"")}),(0,b.jsx)(k,{className:"px-4 py-3 font-semibold",children:String(a.amount??a.net_amount??0)}),(0,b.jsx)(k,{className:"px-4 py-3",children:String(a.currency||"")}),(0,b.jsx)(k,{className:"px-4 py-3",children:(c=String(a.status||"").toLowerCase(),d="px-2 py-1 rounded-md text-xs",e="completed"===c?`${d} bg-green-100 text-green-700`:"pending"===c?`${d} bg-amber-100 text-amber-700`:`${d} bg-red-100 text-red-700`,(0,b.jsx)("span",{className:e,children:String(a.status||"").charAt(0).toUpperCase()+String(a.status||"").slice(1)}))})]},String(a.id||a.reference||Math.random()))})})]})})}var m=a.i(78807),n=a.i(60906);function o(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[o,p]=(0,c.useState)("all"),[q,r]=(0,c.useState)("all");(0,c.useEffect)(()=>{(0,d.isAuthenticated)()&&(async()=>{try{let a=await (0,d.apiFetch)("/payments?limit=50&offset=0");e(Array.isArray(a?.transactions)?a.transactions:[])}catch(a){i(a?.message||"Failed to load transactions")}finally{g(!1)}})()},[]);let s=a.length,t=a.filter(a=>"completed"===String(a.status||"").toLowerCase()).length,u=a.filter(a=>"pending"===String(a.status||"").toLowerCase()).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(m.default,{title:"Transactions",subtitle:"Your recent activity.",variant:"hero"}),f&&(0,b.jsx)("div",{className:"bg-white rounded-xl border p-6",children:"Loading transactions..."}),h&&(0,b.jsx)("div",{className:"bg-red-50 text-red-600 border border-red-200 rounded-xl p-4",children:h}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Total Transactions"}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-slate-900 mt-1",children:s.toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Completed"}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-green-600 mt-1",children:t.toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Pending"}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-amber-600 mt-1",children:u.toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border",children:[(0,b.jsxs)("div",{className:"p-4 flex flex-wrap gap-4 items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{onClick:()=>r("all"),className:`px-3 py-2 rounded-md text-sm ${"all"===q?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"All Transaction"}),(0,b.jsx)("button",{onClick:()=>r("sent"),className:`px-3 py-2 rounded-md text-sm ${"sent"===q?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Money Sent"}),(0,b.jsx)("button",{onClick:()=>r("received"),className:`px-3 py-2 rounded-md text-sm ${"received"===q?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Money Received"}),(0,b.jsx)("button",{onClick:()=>r("topup"),className:`px-3 py-2 rounded-md text-sm ${"topup"===q?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Top Up"}),(0,b.jsxs)("button",{onClick:()=>r("pending_settlement"),className:`px-3 py-2 rounded-md text-sm ${"pending_settlement"===q?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:["Pending Settlement ",(0,b.jsx)("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-amber-100 text-amber-700",children:u})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Filter By Month"}),(0,b.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Download Statement"})]})]}),(0,b.jsxs)("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-sm text-slate-600 flex items-center justify-between",children:[(0,b.jsx)("div",{children:"Completed pending transactions will update your balance and history. Details in the Pending Settlement tab."}),(0,b.jsx)("button",{className:"px-3 py-1 rounded-md text-sm bg-amber-100 text-amber-700 hover:bg-amber-200",children:"See Pending Transaction"})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-wrap gap-4 items-center",children:[(0,b.jsx)("div",{className:"w-full md:w-64",children:(0,b.jsx)(n.Input,{placeholder:"Search reference or amount",value:j,onChange:a=>k(a.target.value),className:"text-slate-900 placeholder:text-slate-500 bg-white"})}),(0,b.jsx)("div",{children:(0,b.jsxs)("select",{className:"border rounded-md px-3 py-2 text-sm text-slate-900 bg-white",value:o,onChange:a=>p(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"failed",children:"Failed"})]})}),(0,b.jsx)("div",{className:"ml-auto",children:(0,b.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Export"})})]})]}),(0,b.jsx)(l,{transactions:a.filter(a=>{let b,c=j.trim().toLowerCase(),d=!c||String(a.reference||"").toLowerCase().includes(c)||String(a.amount||"").toLowerCase().includes(c),e="all"===o||String(a.status||"").toLowerCase()===o,f=(b=String(a.type||"").toLowerCase(),"all"===q||("sent"===q?"payment"===b:"received"===q?"withdrawal"===b:"topup"===q?"deposit"===b:"pending_settlement"!==q||"pending"===String(a.status||"").toLowerCase()));return d&&e&&f})})]})}a.s(["default",()=>o],71164)}];

//# sourceMappingURL=Desktop_VaultString_Projects_vaultstring-frontend_d7b87900._.js.map