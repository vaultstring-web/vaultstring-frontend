module.exports=[88672,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.AppRouterContext},569,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.HooksClientContext},39272,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},79044,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored["react-ssr"].ReactDOM},3787,73699,10275,9043,58619,a=>{"use strict";var b=a.i(70839),c=a.i(46936);let d={primary:{green:"#448a33",blue:"#3b5a65"},semantic:{success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"},neutral:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},dark:{bg:"#0f172a",surface:"#1e293b",border:"#334155",text:"#f1f5f9"}},e={xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem",4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",32:"32px",48:"48px",64:"64px"};e.md,e.sm,e.xs,e.lg,e.md,e.lg,e.xl,e["2xl"],e.lg,e.lg,e.xl,e.sm,e.md,e.md,e.lg,e.lg,e.xl;let f={none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},g={fast:"150ms ease-in-out",normal:"200ms ease-in-out",slow:"300ms ease-in-out"};function h({children:a,title:f,subtitle:g}){return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#f8f9fa",padding:e.lg},children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl",style:{boxShadow:"0 4px 6px rgba(0, 0, 0, 0.07), 0 1px 3px rgba(0, 0, 0, 0.06)",padding:`${e.xl} ${e.lg}`},children:[(0,b.jsx)("div",{style:{textAlign:"center",marginBottom:e.xl},children:(0,b.jsx)(c.default,{src:"/images/vs2.png",alt:"VaultString Logo",width:80,height:80,priority:!0,style:{margin:"0 auto",display:"block"}})}),f&&(0,b.jsxs)("div",{style:{textAlign:"center",marginBottom:e.xl},children:[(0,b.jsx)("h1",{className:"font-bold text-neutral-900",style:{fontSize:"1.75rem",lineHeight:"2.125rem",letterSpacing:"-0.015em",marginBottom:e.sm},children:f}),g&&(0,b.jsx)("p",{className:"text-neutral-500",style:{fontSize:"0.9375rem",lineHeight:"1.5rem",fontWeight:"500"},children:g})]}),f&&(0,b.jsx)("div",{style:{height:"1px",backgroundColor:d.neutral[200],marginBottom:e.lg}}),a]})})})}function i({children:a,onClick:c,type:h="button",variant:i="primary",disabled:j=!1,loading:k=!1,fullWidth:l=!0,className:m=""}){let n=(()=>{let a={padding:`${e.md} ${e.lg}`,borderRadius:f.md,fontSize:"0.9375rem",lineHeight:"1.25rem",fontWeight:"600",transition:`all ${g.normal}`,border:"none",cursor:j||k?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",width:l?"100%":"auto",opacity:j?.7:1};switch(i){case"primary":return{...a,backgroundColor:j?d.neutral[300]:d.primary.green,color:"white",boxShadow:j?"none":"0 2px 4px rgba(68, 138, 51, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05)"};case"secondary":return{...a,backgroundColor:j?d.neutral[100]:d.neutral[50],color:j?d.neutral[400]:d.neutral[900],border:`1px solid ${d.neutral[200]}`,boxShadow:j?"none":"0 1px 2px rgba(0, 0, 0, 0.05)"};case"outline":return{...a,backgroundColor:"transparent",color:j?d.neutral[400]:d.primary.green,border:`2px solid ${j?d.neutral[300]:d.primary.green}`};default:return a}})();return(0,b.jsx)("button",{type:h,onClick:c,onMouseEnter:a=>{if(!j&&!k){let b=a.currentTarget;"primary"===i?(b.style.backgroundColor="#3a7a2b",b.style.boxShadow="0 4px 8px rgba(68, 138, 51, 0.25), 0 2px 4px rgba(0, 0, 0, 0.1)",b.style.transform="translateY(-1px)"):"secondary"===i?(b.style.backgroundColor=d.neutral[100],b.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.08)"):"outline"===i&&(b.style.backgroundColor="rgba(68, 138, 51, 0.05)")}},onMouseLeave:a=>{let b=a.currentTarget;b.style.transform="translateY(0)",Object.assign(b.style,n)},disabled:j||k,style:n,className:m,children:k?(0,b.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:e.sm},children:[(0,b.jsxs)("svg",{className:"animate-spin",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),"Loading..."]}):a})}a.s(["borderRadius",0,f,"colors",0,d,"spacing",0,e,"transitions",0,g],73699),a.s(["AuthLayout",()=>h],3787),a.s(["Button",()=>i],10275);var j=a.i(16951);function k(a,b,c){let[d,e]=(0,j.useState)(a),[f,g]=(0,j.useState)({}),[h,i]=(0,j.useState)(!1),k=(a,b)=>c&&c[a]?c[a](b):null,l=async a=>{let e;if(a.preventDefault(),e={},c&&Object.keys(c).forEach(a=>{let b=k(a,d[a]);b&&(e[a]=b)}),g(e),0===Object.keys(e).length){i(!0);try{await b(d)}catch(a){console.error("Form submission error:",a)}finally{i(!1)}}};return{values:d,errors:f,isSubmitting:h,handleChange:a=>{let{name:b,value:c,type:d,checked:h}=a.target,i="checkbox"===d?h:c;e(a=>({...a,[b]:i})),f[b]&&g(a=>({...a,[b]:""}));let j=k(b,i);j&&g(a=>({...a,[b]:j}))},handleSubmit:l,setFieldError:(a,b)=>{g(c=>({...c,[a]:b}))},resetForm:()=>{e(a),g({})},setValues:e}}a.s(["useFormValidation",()=>k],9043);var l=a.i(10648);async function m(a){let b=await (0,l.apiFetch)("/auth/login",{method:"POST",body:JSON.stringify({email:String(a.email||"").trim(),password:String(a.password||"").trim()})}),c=b?.access_token||b?.token;c&&(0,l.setToken)(String(c));let d=b?.user;return d&&(0,l.setUser)(d),b}async function n(a){return(0,l.apiFetch)("/auth/register",{method:"POST",body:JSON.stringify(a)})}async function o(a){return(0,l.apiFetch)("/auth/password/reset",{method:"POST",body:JSON.stringify({email:a})})}async function p(a,b){return(0,l.apiFetch)("/auth/password/reset/confirm",{method:"POST",body:JSON.stringify({token:a,password:b})})}async function q(a,b){return(0,l.apiFetch)("/auth/verify",{method:"POST",body:JSON.stringify({email:a,code:b})})}async function r(a){return(0,l.apiFetch)("/auth/verify/resend",{method:"POST",body:JSON.stringify({email:a})})}async function s(a){return(0,l.apiFetch)("/auth/magic-link",{method:"POST",body:JSON.stringify({email:a})})}a.s(["login",()=>m,"requestPasswordReset",()=>o,"resendVerificationCode",()=>r,"resetPassword",()=>p,"sendMagicLink",()=>s,"signup",()=>n,"verifyEmail",()=>q],58619)},90897,a=>{"use strict";var b=a.i(70839),c=a.i(16951),d=a.i(22258),e=a.i(3787),f=a.i(10275),g=a.i(9043),h=a.i(58619),i=a.i(73699);function j(){let a=(0,d.useRouter)(),j=(0,d.useSearchParams)(),k=j?.get("email")||"",[l,m]=(0,c.useState)(k),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(!1),r=(0,g.useFormValidation)({code:""},async b=>{try{await (0,h.verifyEmail)(l,String(b.code||"")),a.push("/onboarding")}catch(a){r.setFieldError("code",a?.message||"Invalid verification code")}}),s=async()=>{try{await (0,h.resendVerificationCode)(l),o(60)}catch(a){r.setFieldError("code",a?.message||"Failed to resend code")}};return((0,c.useEffect)(()=>{if(n<=0)return;let a=setInterval(()=>o(a=>a-1),1e3);return()=>clearInterval(a)},[n]),p)?(0,b.jsx)(e.AuthLayout,{title:"Check Your Email",subtitle:`We've sent a magic link to ${l}`,children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:i.spacing.lg,textAlign:"center"},children:[(0,b.jsx)("p",{style:{color:i.colors.neutral[600],fontSize:"0.9375rem"},children:"Click the link in your email to complete verification."}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>q(!1),children:"Use code instead"})]})}):(0,b.jsx)(e.AuthLayout,{title:"Verify Email",subtitle:`Enter the code sent to ${l}`,children:(0,b.jsxs)("form",{onSubmit:r.handleSubmit,style:{display:"flex",flexDirection:"column",gap:i.spacing.lg},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:i.colors.neutral[700],marginBottom:i.spacing.sm},children:"Verification Code"}),(0,b.jsx)("input",{name:"code",type:"text",maxLength:6,placeholder:"000000",value:String(r.values.code||""),onChange:r.handleChange,style:{width:"100%",textAlign:"center",fontSize:"1.5rem",letterSpacing:"0.2em",padding:i.spacing.md,border:`1px solid ${r.errors.code?i.colors.semantic.error:i.colors.neutral[300]}`,borderRadius:"0.5rem",fontFamily:"monospace"},autoComplete:"one-time-code",inputMode:"numeric"}),r.errors.code&&(0,b.jsx)("p",{style:{marginTop:i.spacing.sm,fontSize:"0.8125rem",color:i.colors.semantic.error},children:r.errors.code})]}),(0,b.jsx)(f.Button,{type:"submit",loading:r.isSubmitting,children:"Verify Email"}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:i.spacing.md},children:[(0,b.jsx)("button",{type:"button",onClick:s,disabled:n>0,style:{width:"100%",fontSize:"0.875rem",color:n>0?i.colors.neutral[400]:i.colors.primary.green,backgroundColor:"transparent",border:"none",cursor:n>0?"not-allowed":"pointer",padding:i.spacing.sm,transition:"color 200ms ease-in-out",fontWeight:"600"},children:n>0?`Resend code in ${n}s`:"Resend code"}),(0,b.jsx)("button",{type:"button",onClick:async()=>{await (0,h.sendMagicLink)(l),q(!0)},style:{width:"100%",fontSize:"0.875rem",color:i.colors.neutral[600],backgroundColor:"transparent",border:"none",cursor:"pointer",padding:i.spacing.sm,transition:"color 200ms ease-in-out"},onMouseEnter:a=>{a.currentTarget.style.color=i.colors.neutral[900]},onMouseLeave:a=>{a.currentTarget.style.color=i.colors.neutral[600]},children:"Use magic link instead"})]})]})})}function k(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(e.AuthLayout,{title:"Verify Email",subtitle:"Enter your verification code",children:(0,b.jsx)("div",{})}),children:(0,b.jsx)(j,{})})}a.s(["default",()=>k],90897)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cf40b000._.js.map