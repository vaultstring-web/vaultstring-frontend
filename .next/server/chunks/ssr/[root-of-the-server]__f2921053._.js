module.exports=[88672,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.AppRouterContext},569,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.HooksClientContext},39272,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},79044,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored["react-ssr"].ReactDOM},23995,(a,b,c)=>{"use strict";b.exports=a.r(67434).vendored["react-ssr"].ReactServerDOMTurbopackClient},3787,73699,10275,9043,58619,a=>{"use strict";var b=a.i(70839),c=a.i(46936);let d={primary:{green:"#448a33",blue:"#3b5a65"},semantic:{success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"},neutral:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},dark:{bg:"#0f172a",surface:"#1e293b",border:"#334155",text:"#f1f5f9"}},e={xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem",4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",32:"32px",48:"48px",64:"64px"};e.md,e.sm,e.xs,e.lg,e.md,e.lg,e.xl,e["2xl"],e.lg,e.lg,e.xl,e.sm,e.md,e.md,e.lg,e.lg,e.xl;let f={none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},g={fast:"150ms ease-in-out",normal:"200ms ease-in-out",slow:"300ms ease-in-out"};function h({children:a,title:f,subtitle:g}){return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#f8f9fa",padding:e.lg},children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl",style:{boxShadow:"0 4px 6px rgba(0, 0, 0, 0.07), 0 1px 3px rgba(0, 0, 0, 0.06)",padding:`${e.xl} ${e.lg}`},children:[(0,b.jsx)("div",{style:{textAlign:"center",marginBottom:e.xl},children:(0,b.jsx)(c.default,{src:"/images/vs2.png",alt:"VaultString Logo",width:80,height:80,priority:!0,style:{margin:"0 auto",display:"block"}})}),f&&(0,b.jsxs)("div",{style:{textAlign:"center",marginBottom:e.xl},children:[(0,b.jsx)("h1",{className:"font-bold text-neutral-900",style:{fontSize:"1.75rem",lineHeight:"2.125rem",letterSpacing:"-0.015em",marginBottom:e.sm},children:f}),g&&(0,b.jsx)("p",{className:"text-neutral-500",style:{fontSize:"0.9375rem",lineHeight:"1.5rem",fontWeight:"500"},children:g})]}),f&&(0,b.jsx)("div",{style:{height:"1px",backgroundColor:d.neutral[200],marginBottom:e.lg}}),a]})})})}function i({children:a,onClick:c,type:h="button",variant:i="primary",disabled:j=!1,loading:k=!1,fullWidth:l=!0,className:m=""}){let n=(()=>{let a={padding:`${e.md} ${e.lg}`,borderRadius:f.md,fontSize:"0.9375rem",lineHeight:"1.25rem",fontWeight:"600",transition:`all ${g.normal}`,border:"none",cursor:j||k?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",width:l?"100%":"auto",opacity:j?.7:1};switch(i){case"primary":return{...a,backgroundColor:j?d.neutral[300]:d.primary.green,color:"white",boxShadow:j?"none":"0 2px 4px rgba(68, 138, 51, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05)"};case"secondary":return{...a,backgroundColor:j?d.neutral[100]:d.neutral[50],color:j?d.neutral[400]:d.neutral[900],border:`1px solid ${d.neutral[200]}`,boxShadow:j?"none":"0 1px 2px rgba(0, 0, 0, 0.05)"};case"outline":return{...a,backgroundColor:"transparent",color:j?d.neutral[400]:d.primary.green,border:`2px solid ${j?d.neutral[300]:d.primary.green}`};default:return a}})();return(0,b.jsx)("button",{type:h,onClick:c,onMouseEnter:a=>{if(!j&&!k){let b=a.currentTarget;"primary"===i?(b.style.backgroundColor="#3a7a2b",b.style.boxShadow="0 4px 8px rgba(68, 138, 51, 0.25), 0 2px 4px rgba(0, 0, 0, 0.1)",b.style.transform="translateY(-1px)"):"secondary"===i?(b.style.backgroundColor=d.neutral[100],b.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.08)"):"outline"===i&&(b.style.backgroundColor="rgba(68, 138, 51, 0.05)")}},onMouseLeave:a=>{let b=a.currentTarget;b.style.transform="translateY(0)",Object.assign(b.style,n)},disabled:j||k,style:n,className:m,children:k?(0,b.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:e.sm},children:[(0,b.jsxs)("svg",{className:"animate-spin",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),"Loading..."]}):a})}a.s(["borderRadius",0,f,"colors",0,d,"spacing",0,e,"transitions",0,g],73699),a.s(["AuthLayout",()=>h],3787),a.s(["Button",()=>i],10275);var j=a.i(16951);function k(a,b,c){let[d,e]=(0,j.useState)(a),[f,g]=(0,j.useState)({}),[h,i]=(0,j.useState)(!1),k=(a,b)=>c&&c[a]?c[a](b):null,l=async a=>{let e;if(a.preventDefault(),e={},c&&Object.keys(c).forEach(a=>{let b=k(a,d[a]);b&&(e[a]=b)}),g(e),0===Object.keys(e).length){i(!0);try{await b(d)}catch(a){console.error("Form submission error:",a)}finally{i(!1)}}};return{values:d,errors:f,isSubmitting:h,handleChange:a=>{let{name:b,value:c,type:d,checked:h}=a.target,i="checkbox"===d?h:c;e(a=>({...a,[b]:i})),f[b]&&g(a=>({...a,[b]:""}));let j=k(b,i);j&&g(a=>({...a,[b]:j}))},handleSubmit:l,setFieldError:(a,b)=>{g(c=>({...c,[a]:b}))},resetForm:()=>{e(a),g({})},setValues:e}}a.s(["useFormValidation",()=>k],9043);var l=a.i(10648);async function m(a){let b=await (0,l.apiFetch)("/auth/login",{method:"POST",body:JSON.stringify({email:String(a.email||"").trim(),password:String(a.password||"").trim()})}),c=b?.access_token||b?.token;c&&(0,l.setToken)(String(c));let d=b?.user;return d&&(0,l.setUser)(d),b}async function n(a){return(0,l.apiFetch)("/auth/register",{method:"POST",body:JSON.stringify(a)})}async function o(a){return(0,l.apiFetch)("/auth/password/reset",{method:"POST",body:JSON.stringify({email:a})})}async function p(a,b){return(0,l.apiFetch)("/auth/password/reset/confirm",{method:"POST",body:JSON.stringify({token:a,password:b})})}async function q(a,b){return(0,l.apiFetch)("/auth/verify",{method:"POST",body:JSON.stringify({email:a,code:b})})}async function r(a){return(0,l.apiFetch)("/auth/verify/resend",{method:"POST",body:JSON.stringify({email:a})})}async function s(a){return(0,l.apiFetch)("/auth/magic-link",{method:"POST",body:JSON.stringify({email:a})})}a.s(["login",()=>m,"requestPasswordReset",()=>o,"resendVerificationCode",()=>r,"resetPassword",()=>p,"sendMagicLink",()=>s,"signup",()=>n,"verifyEmail",()=>q],58619)},5110,a=>{"use strict";var b=a.i(70839),c=a.i(73699);function d({label:a,name:d,type:e="text",value:f,onChange:g,error:h,placeholder:i,required:j=!1,disabled:k=!1,autoComplete:l}){return"checkbox"===e?(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:c.spacing.sm},children:[(0,b.jsx)("input",{id:d,name:d,type:"checkbox",checked:"boolean"==typeof f&&f,onChange:g,disabled:k,style:{width:"16px",height:"16px",borderRadius:c.borderRadius.sm,borderColor:c.colors.neutral[300],accentColor:c.colors.primary.green,cursor:k?"not-allowed":"pointer"}}),(0,b.jsxs)("label",{htmlFor:d,style:{display:"block",fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500",color:c.colors.neutral[700],cursor:k?"not-allowed":"pointer"},children:[a,j&&(0,b.jsx)("span",{style:{color:c.colors.semantic.error,marginLeft:"4px"},children:"*"})]})]}):(0,b.jsxs)("div",{style:{marginBottom:c.spacing.lg},children:[(0,b.jsxs)("label",{htmlFor:d,style:{display:"block",fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"600",color:c.colors.neutral[700],marginBottom:c.spacing.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:[a,j&&(0,b.jsx)("span",{style:{color:c.colors.semantic.error,marginLeft:"4px"},children:"*"})]}),(0,b.jsx)("input",{id:d,name:d,type:e,value:"string"==typeof f?f:"",onChange:g,placeholder:i,disabled:k,autoComplete:l,className:"w-full transition-all focus:outline-none",style:{padding:`${c.spacing.sm} ${c.spacing.md}`,borderRadius:c.borderRadius.md,fontSize:"0.875rem",lineHeight:"1.25rem",border:`1px solid ${h?c.colors.semantic.error:c.colors.neutral[200]}`,backgroundColor:k?c.colors.neutral[50]:"white",color:c.colors.neutral[900],boxShadow:h?"0 0 0 3px rgba(239, 68, 68, 0.1)":"none",transition:"all 0.2s ease"},onFocus:a=>{h||(a.currentTarget.style.borderColor=c.colors.primary.green,a.currentTarget.style.boxShadow="0 0 0 3px rgba(68, 138, 51, 0.1)")},onBlur:a=>{a.currentTarget.style.boxShadow="none",h||(a.currentTarget.style.borderColor=c.colors.neutral[200])},"aria-invalid":!!h,"aria-describedby":h?`${d}-error`:void 0}),h&&(0,b.jsx)("p",{id:`${d}-error`,style:{fontSize:"0.8125rem",lineHeight:"1.125rem",color:c.colors.semantic.error,marginTop:c.spacing.xs,fontWeight:"500"},children:h})]})}a.s(["InputField",()=>d])},31753,99114,a=>{"use strict";var b=a.i(70839),c=a.i(16951);let d={success:"bg-green-50 text-green-900 border-green-200",error:"bg-red-50 text-red-900 border-red-200",info:"bg-blue-50 text-blue-900 border-blue-200"},e={success:"✓",error:"✕",info:"ℹ"};function f({message:a,type:f="info",duration:g=4e3,onClose:h}){let[i,j]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let a=setTimeout(()=>{j(!1),h?.()},g);return()=>clearTimeout(a)},[g,h]),i)?(0,b.jsxs)("div",{className:`fixed bottom-4 right-4 px-6 py-4 rounded-lg border ${d[f]} shadow-lg flex items-center gap-3 animate-in fade-in slide-in-from-bottom-4 z-50`,children:[(0,b.jsx)("span",{className:"text-lg font-bold",children:e[f]}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a})]}):null}function g({toasts:a,removeToast:c}){return(0,b.jsx)("div",{className:"fixed bottom-4 right-4 space-y-3 z-50",children:a.map(a=>(0,b.jsx)(f,{message:a.message,type:a.type,duration:a.duration,onClose:()=>c(a.id)},a.id))})}function h(){let[a,b]=(0,c.useState)([]),d=(0,c.useCallback)((a,c="info",d=4e3)=>{let e=Math.random().toString(36).substr(2,9);return b(b=>[...b,{id:e,message:a,type:c,duration:d}]),e},[]),e=(0,c.useCallback)(a=>{b(b=>b.filter(b=>b.id!==a))},[]),f=(0,c.useCallback)(a=>d(a,"success"),[d]),g=(0,c.useCallback)(a=>d(a,"error"),[d]),h=(0,c.useCallback)(a=>d(a,"info"),[d]);return{toasts:a,addToast:d,removeToast:e,showSuccess:f,showError:g,showInfo:h}}a.s(["ToastContainer",()=>g],31753),a.s(["useToast",()=>h],99114)},5470,a=>{"use strict";let b=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.s(["getPasswordStrength",0,a=>{let b=0;return(a.length>=8&&b++,a.length>=12&&b++,/[a-z]/.test(a)&&b++,/[A-Z]/.test(a)&&b++,/\d/.test(a)&&b++,/[@$!%*?&]/.test(a)&&b++,b<=2)?{strength:"weak",score:b}:b<=3?{strength:"fair",score:b}:b<=4?{strength:"good",score:b}:{strength:"strong",score:b}},"validators",0,{email:a=>a.trim()?b.test(a)?null:"Please enter a valid email address":"Email is required",password:a=>a?a.length<8?"Password must be at least 8 characters":/[a-z]/.test(a)?/[A-Z]/.test(a)?/\d/.test(a)?/[@$!%*?&]/.test(a)?null:"Password must contain special characters (@$!%*?&)":"Password must contain numbers":"Password must contain uppercase letters":"Password must contain lowercase letters":"Password is required",confirmPassword:(a,b)=>a?a!==b?"Passwords do not match":null:"Please confirm your password",required:(a,b)=>a.trim()?null:`${b} is required`}])},66311,a=>{"use strict";var b=a.i(70839),c=a.i(65380),d=a.i(22258),e=a.i(16951),f=a.i(3787),g=a.i(5110),h=a.i(10275),i=a.i(31753),j=a.i(9043),k=a.i(99114),l=a.i(5470),m=a.i(58619);function n(){let a=(0,d.useRouter)(),n=(0,d.useSearchParams)(),o=n?.get("token")||"",[p,q]=(0,e.useState)(o?"reset":"email"),{toasts:r,removeToast:s,showSuccess:t,showError:u}=(0,k.useToast)(),v=(0,j.useFormValidation)({email:""},async a=>{try{await (0,m.requestPasswordReset)(String(a.email||"")),t("If the email exists, a reset link has been sent."),q("email")}catch(a){v.setFieldError("email",a?.message||"Failed to send reset email"),u(a?.message||"Failed to send reset email")}},{email:l.validators.email}),w=(0,j.useFormValidation)({password:"",confirmPassword:""},async a=>{try{if(a.password!==a.confirmPassword){w.setFieldError("confirmPassword","Passwords do not match"),u("Passwords do not match");return}if(!o){w.setFieldError("password","Invalid or expired reset link"),u("Invalid or expired reset link");return}await (0,m.resetPassword)(o,String(a.password||"")),t("Password reset successfully!"),q("success")}catch(a){w.setFieldError("password",a?.message||"Password reset failed"),u(a?.message||"Password reset failed")}});return"email"===p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.AuthLayout,{title:"Reset Password",subtitle:"Enter your email to receive reset instructions",children:(0,b.jsxs)("form",{onSubmit:v.handleSubmit,className:"space-y-6",children:[(0,b.jsx)(g.InputField,{label:"Email Address",name:"email",type:"email",value:v.values.email,onChange:v.handleChange,error:v.errors.email,placeholder:"you@example.com",required:!0,autoComplete:"email"}),(0,b.jsx)(h.Button,{type:"submit",loading:v.isSubmitting,children:"Send Reset Link"}),(0,b.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Remember your password? ",(0,b.jsx)(c.default,{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})}),(0,b.jsx)(i.ToastContainer,{toasts:r,removeToast:s})]}):"reset"===p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.AuthLayout,{title:"Create New Password",subtitle:"Enter your new password below",children:(0,b.jsxs)("form",{onSubmit:w.handleSubmit,className:"space-y-6",children:[(0,b.jsx)(g.InputField,{label:"New Password",name:"password",type:"password",value:w.values.password,onChange:w.handleChange,error:w.errors.password,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,b.jsx)(g.InputField,{label:"Confirm Password",name:"confirmPassword",type:"password",value:w.values.confirmPassword,onChange:w.handleChange,error:w.errors.confirmPassword,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded",children:"⏱ This reset link will expire in 1 hour"}),(0,b.jsx)(h.Button,{type:"submit",loading:w.isSubmitting,children:"Reset Password"})]})}),(0,b.jsx)(i.ToastContainer,{toasts:r,removeToast:s})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.AuthLayout,{title:"Password Reset Successful",subtitle:"Your password has been updated",children:(0,b.jsxs)("div",{className:"space-y-6 text-center",children:[(0,b.jsx)("div",{className:"text-5xl",children:"✓"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Your password has been reset. You can now sign in with your new password."}),(0,b.jsx)(h.Button,{onClick:()=>a.push("/login"),children:"Return to Sign In"})]})}),(0,b.jsx)(i.ToastContainer,{toasts:r,removeToast:s})]})}function o(){return(0,b.jsx)(e.Suspense,{fallback:(0,b.jsx)(f.AuthLayout,{title:"Reset Password",subtitle:"Create a new password",children:(0,b.jsx)("div",{})}),children:(0,b.jsx)(n,{})})}a.s(["default",()=>o])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f2921053._.js.map