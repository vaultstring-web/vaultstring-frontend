(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76999,e=>{"use strict";var t=e.i(89997),r=e.i(88871),i=e.i(39601),a=e.i(3918);let n=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function s({className:e,variant:i,size:s,asChild:o=!1,...l}){let c=o?r.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,a.cn)(n({variant:i,size:s,className:e})),...l})}e.s(["Button",()=>s,"buttonVariants",()=>n])},89093,e=>{"use strict";var t=e.i(89997),r=e.i(3918);function i({className:e,type:i,...a}){return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-input dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>i])},7425,10228,e=>{"use strict";var t=e.i(42840),r=e.i(5538);function i(e){let[i,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;a({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),i}e.s(["useSize",()=>i],7425);let a=(0,e.i(84430).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["CheckIcon",()=>a],10228)},9671,9570,e=>{"use strict";e.s(["formatCurrency",0,(e,t)=>{let r=parseFloat(String(e));return isNaN(r)?"0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2}).format(r)},"formatWalletNumber",0,e=>{let t=e.replace(/\D/g,"").padEnd(16,"0").slice(0,16);return t.match(/.{1,4}/g)?.join(" ")||t},"generateFallbackWalletNumber",0,e=>{let t={a:"1",b:"2",c:"3",d:"4",e:"5",f:"6","-":""};return(String(e).toLowerCase().split("").map(e=>t[e]||e).join("").replace(/\D/g,"")+"4539102834756192").slice(0,16)},"getWalletGradient",0,e=>{switch(String(e).toUpperCase()){case"MWK":return"bg-gradient-to-br from-emerald-600 to-teal-800";case"ZMW":return"bg-gradient-to-br from-orange-500 to-amber-700";case"CNY":return"bg-gradient-to-br from-rose-500 to-red-800";default:return"bg-gradient-to-br from-slate-700 to-slate-900"}}],9671);let t=(0,e.i(84430).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],9570)},86631,e=>{"use strict";let t=(0,e.i(84430).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],86631)},90749,e=>{"use strict";let t=(0,e.i(84430).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],90749)},81428,e=>{"use strict";var t=e.i(89997),r=e.i(3918);function i({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function a({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...i})}function n({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...i})}function s({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...i})}function o({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...i})}e.s(["Card",()=>i,"CardContent",()=>o,"CardDescription",()=>s,"CardHeader",()=>a,"CardTitle",()=>n])},28867,e=>{"use strict";var t=e.i(89997),r=e.i(81428);function i({title:e,subtitle:i,action:a,variant:n="card"}){return"hero"===n?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-green-600 via-green-500 to-emerald-500",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay"}),(0,t.jsxs)("div",{className:"p-6 lg:p-8 text-white flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:e}),i&&(0,t.jsx)("p",{className:"mt-1 text-white",children:i})]}),a&&(0,t.jsx)("div",{children:a})]})]}):(0,t.jsxs)(r.Card,{className:"bg-white border",children:[(0,t.jsxs)(r.CardHeader,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{className:"text-2xl",children:e}),i&&(0,t.jsx)(r.CardDescription,{className:"mt-1",children:i})]}),a&&(0,t.jsx)("div",{"data-slot":"card-action",children:a})]}),(0,t.jsx)(r.CardContent,{})]})}e.s(["default",()=>i])},86084,e=>{"use strict";let t=(0,e.i(84430).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],86084)},41890,36803,41646,e=>{"use strict";var t=e.i(84430);let r=(0,t.default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>r],41890);let i=(0,t.default)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);e.s(["ArrowDownLeft",()=>i],36803);let a=(0,t.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],41646)},61732,e=>{"use strict";let t=(0,e.i(84430).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["default",()=>t])},40019,e=>{"use strict";let t=(0,e.i(84430).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRightIcon",()=>t],40019)},61565,e=>{"use strict";let t=(0,e.i(84430).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeftIcon",()=>t],61565)},73191,87557,e=>{"use strict";var t=e.i(89997),r=e.i(61565),i=e.i(40019),a=(e.i(61732),e.i(3918)),n=e.i(76999);function s({className:e,...r}){return(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,a.cn)("mx-auto flex w-full justify-center",e),...r})}function o({className:e,...r}){return(0,t.jsx)("ul",{"data-slot":"pagination-content",className:(0,a.cn)("flex flex-row items-center gap-1",e),...r})}function l({...e}){return(0,t.jsx)("li",{"data-slot":"pagination-item",...e})}function c({className:e,isActive:r,size:i="icon",...s}){return(0,t.jsx)("a",{"aria-current":r?"page":void 0,"data-slot":"pagination-link","data-active":r,className:(0,a.cn)((0,n.buttonVariants)({variant:r?"outline":"ghost",size:i}),e),...s})}function d({className:e,...i}){return(0,t.jsxs)(c,{"aria-label":"Go to previous page",size:"default",className:(0,a.cn)("gap-1 px-2.5 sm:pl-2.5",e),...i,children:[(0,t.jsx)(r.ChevronLeftIcon,{}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function u({className:e,...r}){return(0,t.jsxs)(c,{"aria-label":"Go to next page",size:"default",className:(0,a.cn)("gap-1 px-2.5 sm:pr-2.5",e),...r,children:[(0,t.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,t.jsx)(i.ChevronRightIcon,{})]})}e.s(["Pagination",()=>s,"PaginationContent",()=>o,"PaginationItem",()=>l,"PaginationLink",()=>c,"PaginationNext",()=>u,"PaginationPrevious",()=>d],73191);var g=e.i(42840),f=e.i(61200),m=e.i(94436);function h(e=10){let{user:t}=(0,m.useAuth)(),r=t?.id||t?.ID||null,[i,a]=(0,g.useState)([]),[n,s]=(0,g.useState)(!0),[o,l]=(0,g.useState)(null),[c,d]=(0,g.useState)(0),[u,p]=(0,g.useState)(1),[v,x]=(0,g.useState)(e),[b,y]=(0,g.useState)({query:"",status:"all",tab:"all"}),C=async()=>{s(!0);try{let e=(u-1)*v,t=await (0,f.apiFetch)(`/payments?limit=${v}&offset=${e}`);a(Array.isArray(t?.transactions)?t.transactions:[]),d(t?.total||0),l(null)}catch(e){console.error("Failed to fetch transactions:",e),l(e?.message||"Failed to load transactions"),a([])}finally{s(!1)}};(0,g.useEffect)(()=>{t&&C()},[t,u,v]);let w=(0,g.useMemo)(()=>i.filter(e=>{let t,i,a,n,s=b.query.trim().toLowerCase(),o=String(e.sender_id||e.senderId||""),l=String(e.receiver_id||e.receiverId||""),c=o?`...${o.slice(-4)}`:"",d=l?`...${l.slice(-4)}`:"",u=String(e.sender_wallet_number||e.sender_wallet||c).toLowerCase(),g=String(e.receiver_wallet_number||e.receiver_wallet||d).toLowerCase(),f=String(e.sender_name||e.SenderName||"").toLowerCase(),m=String(e.receiver_name||e.ReceiverName||"").toLowerCase(),h=!s||String(e.reference||e.id||"").toLowerCase().includes(s)||String(e.amount||"").toLowerCase().includes(s)||u.includes(s)||g.includes(s)||f.includes(s)||m.includes(s),p="all"===b.status||String(e.status||"").toLowerCase()===b.status,v=(t=String(e.transaction_type||e.type||"").toLowerCase(),i=o.toLowerCase(),a=l.toLowerCase(),n=String(r||"").toLowerCase(),"all"===b.tab||("sent"===b.tab?n&&i===n:"received"===b.tab?n&&a===n:"topup"===b.tab?"deposit"===t:"pending_settlement"!==b.tab||"pending"===String(e.status||"").toLowerCase()));return h&&p&&v}),[i,b,r]),k=(0,g.useMemo)(()=>({total:c||i.length,completed:i.filter(e=>"completed"===String(e.status||"").toLowerCase()).length,pending:i.filter(e=>"pending"===String(e.status||"").toLowerCase()).length}),[i,c]),j=Math.ceil(c/v);return{transactions:i,filteredTransactions:w,loading:n,error:o,total:c,page:u,limit:v,totalPages:j,setPage:p,setLimit:x,filters:b,setFilters:y,stats:k,refresh:C}}e.s(["useTransactions",()=>h],87557)}]);