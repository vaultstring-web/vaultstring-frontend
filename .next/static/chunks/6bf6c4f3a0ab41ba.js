(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38526,(e,s,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},58346,e=>{"use strict";var s=e.i(89997),r=e.i(41016),t=e.i(55761),a=e.i(42840),i=e.i(26960),o=e.i(72515),n=e.i(6670),l=e.i(60186),d=e.i(84652),u=e.i(30821),c=e.i(28359);function m(){let e=(0,t.useRouter)(),m=(0,t.useSearchParams)(),p=m?.get("token")||"",[h,w]=(0,a.useState)(p?"reset":"email"),{toast:x}=(0,d.useToast)(),g=(0,l.useFormValidation)({email:""},async e=>{try{await (0,c.requestPasswordReset)(String(e.email||"")),x({title:"Success",description:"If the email exists, a reset link has been sent.",variant:"default"}),w("email")}catch(e){g.setFieldError("email",e?.message||"Failed to send reset email"),x({variant:"destructive",title:"Error",description:e?.message||"Failed to send reset email"})}},{email:u.validators.email}),b=(0,l.useFormValidation)({password:"",confirmPassword:""},async e=>{try{if(e.password!==e.confirmPassword){b.setFieldError("confirmPassword","Passwords do not match"),x({variant:"destructive",title:"Error",description:"Passwords do not match"});return}if(!p){b.setFieldError("password","Invalid or expired reset link"),x({variant:"destructive",title:"Error",description:"Invalid or expired reset link"});return}await (0,c.resetPassword)(p,String(e.password||"")),x({title:"Success",description:"Password reset successfully!",variant:"default"}),w("success")}catch(e){b.setFieldError("password",e?.message||"Password reset failed"),x({variant:"destructive",title:"Error",description:e?.message||"Password reset failed"})}});return"email"===h?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.AuthLayout,{title:"Reset Password",subtitle:"Enter your email to receive reset instructions",children:(0,s.jsxs)("form",{onSubmit:g.handleSubmit,className:"space-y-6",children:[(0,s.jsx)(o.InputField,{label:"Email Address",name:"email",type:"email",value:g.values.email,onChange:g.handleChange,error:g.errors.email,placeholder:"you@example.com",required:!0,autoComplete:"email"}),(0,s.jsx)(n.Button,{type:"submit",loading:g.isSubmitting,children:"Send Reset Link"}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Remember your password? ",(0,s.jsx)(r.default,{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})})}):"reset"===h?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.AuthLayout,{title:"Create New Password",subtitle:"Enter your new password below",children:(0,s.jsxs)("form",{onSubmit:b.handleSubmit,className:"space-y-6",children:[(0,s.jsx)(o.InputField,{label:"New Password",name:"password",type:"password",value:b.values.password,onChange:b.handleChange,error:b.errors.password,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,s.jsx)(o.InputField,{label:"Confirm Password",name:"confirmPassword",type:"password",value:b.values.confirmPassword,onChange:b.handleChange,error:b.errors.confirmPassword,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded",children:"⏱ This reset link will expire in 1 hour"}),(0,s.jsx)(n.Button,{type:"submit",loading:b.isSubmitting,children:"Reset Password"})]})})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.AuthLayout,{title:"Password Reset Successful",subtitle:"Your password has been updated",children:(0,s.jsxs)("div",{className:"space-y-6 text-center",children:[(0,s.jsx)("div",{className:"text-5xl",children:"✓"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Your password has been reset. You can now sign in with your new password."}),(0,s.jsx)(n.Button,{onClick:()=>e.push("/login"),children:"Return to Sign In"})]})})})}function p(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(i.AuthLayout,{title:"Reset Password",subtitle:"Create a new password",children:(0,s.jsx)("div",{})}),children:(0,s.jsx)(m,{})})}e.s(["default",()=>p])}]);