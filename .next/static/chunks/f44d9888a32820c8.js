(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44009,(e,s,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},58346,e=>{"use strict";var s=e.i(40179),r=e.i(2381),t=e.i(19437),a=e.i(128),i=e.i(26960),o=e.i(72515),n=e.i(6670),l=e.i(93745),d=e.i(60186),u=e.i(81283),c=e.i(30821),m=e.i(28359);function h(){let e=(0,t.useRouter)(),h=(0,t.useSearchParams)(),w=h?.get("token")||"",[p,x]=(0,a.useState)(w?"reset":"email"),{toasts:g,removeToast:b,showSuccess:j,showError:y}=(0,u.useToast)(),f=(0,d.useFormValidation)({email:""},async e=>{try{await (0,m.requestPasswordReset)(String(e.email||"")),j("If the email exists, a reset link has been sent."),x("email")}catch(e){f.setFieldError("email",e?.message||"Failed to send reset email"),y(e?.message||"Failed to send reset email")}},{email:c.validators.email}),P=(0,d.useFormValidation)({password:"",confirmPassword:""},async e=>{try{if(e.password!==e.confirmPassword){P.setFieldError("confirmPassword","Passwords do not match"),y("Passwords do not match");return}if(!w){P.setFieldError("password","Invalid or expired reset link"),y("Invalid or expired reset link");return}await (0,m.resetPassword)(w,String(e.password||"")),j("Password reset successfully!"),x("success")}catch(e){P.setFieldError("password",e?.message||"Password reset failed"),y(e?.message||"Password reset failed")}});return"email"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.AuthLayout,{title:"Reset Password",subtitle:"Enter your email to receive reset instructions",children:(0,s.jsxs)("form",{onSubmit:f.handleSubmit,className:"space-y-6",children:[(0,s.jsx)(o.InputField,{label:"Email Address",name:"email",type:"email",value:f.values.email,onChange:f.handleChange,error:f.errors.email,placeholder:"you@example.com",required:!0,autoComplete:"email"}),(0,s.jsx)(n.Button,{type:"submit",loading:f.isSubmitting,children:"Send Reset Link"}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Remember your password? ",(0,s.jsx)(r.default,{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})}),(0,s.jsx)(l.ToastContainer,{toasts:g,removeToast:b})]}):"reset"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.AuthLayout,{title:"Create New Password",subtitle:"Enter your new password below",children:(0,s.jsxs)("form",{onSubmit:P.handleSubmit,className:"space-y-6",children:[(0,s.jsx)(o.InputField,{label:"New Password",name:"password",type:"password",value:P.values.password,onChange:P.handleChange,error:P.errors.password,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,s.jsx)(o.InputField,{label:"Confirm Password",name:"confirmPassword",type:"password",value:P.values.confirmPassword,onChange:P.handleChange,error:P.errors.confirmPassword,placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded",children:"⏱ This reset link will expire in 1 hour"}),(0,s.jsx)(n.Button,{type:"submit",loading:P.isSubmitting,children:"Reset Password"})]})}),(0,s.jsx)(l.ToastContainer,{toasts:g,removeToast:b})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.AuthLayout,{title:"Password Reset Successful",subtitle:"Your password has been updated",children:(0,s.jsxs)("div",{className:"space-y-6 text-center",children:[(0,s.jsx)("div",{className:"text-5xl",children:"✓"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Your password has been reset. You can now sign in with your new password."}),(0,s.jsx)(n.Button,{onClick:()=>e.push("/login"),children:"Return to Sign In"})]})}),(0,s.jsx)(l.ToastContainer,{toasts:g,removeToast:b})]})}function w(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(i.AuthLayout,{title:"Reset Password",subtitle:"Create a new password",children:(0,s.jsx)("div",{})}),children:(0,s.jsx)(h,{})})}e.s(["default",()=>w])}]);