(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1570,e=>{"use strict";function t(){for(var e,t,s=0,a="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=function e(t){var s,a,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(a=e(t[s]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}(e))&&(a&&(a+=" "),a+=t);return a}e.s(["clsx",()=>t,"default",0,t])},28867,e=>{"use strict";var t=e.i(40179),s=e.i(81428);function a({title:e,subtitle:a,action:l,variant:r="card"}){return"hero"===r?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-green-600 via-green-500 to-emerald-500",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay"}),(0,t.jsxs)("div",{className:"p-6 lg:p-8 text-white flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:e}),a&&(0,t.jsx)("p",{className:"mt-1 text-white",children:a})]}),l&&(0,t.jsx)("div",{children:l})]})]}):(0,t.jsxs)(s.Card,{className:"bg-white border",children:[(0,t.jsxs)(s.CardHeader,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.CardTitle,{className:"text-2xl",children:e}),a&&(0,t.jsx)(s.CardDescription,{className:"mt-1",children:a})]}),l&&(0,t.jsx)("div",{"data-slot":"card-action",children:l})]}),(0,t.jsx)(s.CardContent,{})]})}e.s(["default",()=>a])},89093,e=>{"use strict";var t=e.i(40179),s=e.i(3918);function a({className:e,type:a,...l}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-input dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>a])},25970,e=>{"use strict";var t=e.i(40179),s=e.i(128),a=e.i(61200),l=e.i(3918);function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})})}function n({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s})}function d({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function o({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function c({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function x({transactions:e}){return(0,t.jsx)("div",{className:"bg-white rounded-xl border overflow-hidden",children:(0,t.jsxs)(r,{className:"min-w-full",children:[(0,t.jsx)(n,{children:(0,t.jsxs)(d,{className:"bg-slate-50 text-left text-sm text-slate-600",children:[(0,t.jsx)(o,{className:"px-4 text-slate-600 py-3",children:"Date"}),(0,t.jsx)(o,{className:"px-4 text-slate-600 py-3",children:"Reference"}),(0,t.jsx)(o,{className:"px-4 text-slate-600 py-3",children:"Amount"}),(0,t.jsx)(o,{className:"px-4 text-slate-600 py-3",children:"Currency"}),(0,t.jsx)(o,{className:"px-4 text-slate-600 py-3",children:"Status"})]})}),(0,t.jsx)(i,{children:e.map(e=>{let s,a,l;return(0,t.jsxs)(d,{className:"text-sm text-slate-900 hover:bg-slate-50",children:[(0,t.jsx)(c,{className:"px-4 py-3",children:String(e.created_at||e.initiated_at||"")}),(0,t.jsx)(c,{className:"px-4 py-3 font-mono",children:String(e.reference||e.id||"")}),(0,t.jsx)(c,{className:"px-4 py-3 font-semibold",children:String(e.amount??e.net_amount??0)}),(0,t.jsx)(c,{className:"px-4 py-3",children:String(e.currency||"")}),(0,t.jsx)(c,{className:"px-4 py-3",children:(s=String(e.status||"").toLowerCase(),a="px-2 py-1 rounded-md text-xs",l="completed"===s?`${a} bg-green-100 text-green-700`:"pending"===s?`${a} bg-amber-100 text-amber-700`:`${a} bg-red-100 text-red-700`,(0,t.jsx)("span",{className:l,children:String(e.status||"").charAt(0).toUpperCase()+String(e.status||"").slice(1)}))})]},String(e.id||e.reference||Math.random()))})})]})})}var m=e.i(28867),u=e.i(89093);function h(){let[e,l]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[i,d]=(0,s.useState)(null),[o,c]=(0,s.useState)(""),[h,p]=(0,s.useState)("all"),[b,g]=(0,s.useState)("all");(0,s.useEffect)(()=>{(0,a.isAuthenticated)()&&(async()=>{try{let e=await (0,a.apiFetch)("/payments?limit=50&offset=0");l(Array.isArray(e?.transactions)?e.transactions:[])}catch(e){d(e?.message||"Failed to load transactions")}finally{n(!1)}})()},[]);let f=e.length,j=e.filter(e=>"completed"===String(e.status||"").toLowerCase()).length,v=e.filter(e=>"pending"===String(e.status||"").toLowerCase()).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(m.default,{title:"Transactions",subtitle:"Your recent activity.",variant:"hero"}),r&&(0,t.jsx)("div",{className:"bg-white rounded-xl border p-6",children:"Loading transactions..."}),i&&(0,t.jsx)("div",{className:"bg-red-50 text-red-600 border border-red-200 rounded-xl p-4",children:i}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Total Transactions"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-slate-900 mt-1",children:f.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Completed"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-green-600 mt-1",children:j.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Pending"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-amber-600 mt-1",children:v.toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border",children:[(0,t.jsxs)("div",{className:"p-4 flex flex-wrap gap-4 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>g("all"),className:`px-3 py-2 rounded-md text-sm ${"all"===b?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"All Transaction"}),(0,t.jsx)("button",{onClick:()=>g("sent"),className:`px-3 py-2 rounded-md text-sm ${"sent"===b?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Money Sent"}),(0,t.jsx)("button",{onClick:()=>g("received"),className:`px-3 py-2 rounded-md text-sm ${"received"===b?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Money Received"}),(0,t.jsx)("button",{onClick:()=>g("topup"),className:`px-3 py-2 rounded-md text-sm ${"topup"===b?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:"Top Up"}),(0,t.jsxs)("button",{onClick:()=>g("pending_settlement"),className:`px-3 py-2 rounded-md text-sm ${"pending_settlement"===b?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:["Pending Settlement ",(0,t.jsx)("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-amber-100 text-amber-700",children:v})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Filter By Month"}),(0,t.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Download Statement"})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-sm text-slate-600 flex items-center justify-between",children:[(0,t.jsx)("div",{children:"Completed pending transactions will update your balance and history. Details in the Pending Settlement tab."}),(0,t.jsx)("button",{className:"px-3 py-1 rounded-md text-sm bg-amber-100 text-amber-700 hover:bg-amber-200",children:"See Pending Transaction"})]}),(0,t.jsxs)("div",{className:"p-4 flex flex-wrap gap-4 items-center",children:[(0,t.jsx)("div",{className:"w-full md:w-64",children:(0,t.jsx)(u.Input,{placeholder:"Search reference or amount",value:o,onChange:e=>c(e.target.value),className:"text-slate-900 placeholder:text-slate-500 bg-white"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{className:"border rounded-md px-3 py-2 text-sm text-slate-900 bg-white",value:h,onChange:e=>p(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"failed",children:"Failed"})]})}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)("button",{className:"px-3 py-2 rounded-md text-sm text-slate-600 border hover:bg-slate-50",children:"Export"})})]})]}),(0,t.jsx)(x,{transactions:e.filter(e=>{let t,s=o.trim().toLowerCase(),a=!s||String(e.reference||"").toLowerCase().includes(s)||String(e.amount||"").toLowerCase().includes(s),l="all"===h||String(e.status||"").toLowerCase()===h,r=(t=String(e.type||"").toLowerCase(),"all"===b||("sent"===b?"payment"===t:"received"===b?"withdrawal"===t:"topup"===b?"deposit"===t:"pending_settlement"!==b||"pending"===String(e.status||"").toLowerCase()));return a&&l&&r})})]})}e.s(["default",()=>h],25970)}]);