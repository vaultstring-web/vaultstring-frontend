{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gondwe/Desktop/VaultString/Projects/vaultstring-frontend/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { AuthLayout } from '@/src/components/shared/AuthLayout';\r\nimport { InputField } from '@/src/components/forms/InputField';\r\nimport { Button } from '@/src/components/forms/Button';\r\nimport { SocialAuthDivider, SocialButton } from '@/src/components/forms/SocialAuthDivider';\r\nimport { ToastContainer } from '@/src/components/shared/Toast';\r\nimport { useFormValidation } from '@/src/hooks/useFormValidation';\r\nimport { useToast } from '@/src/hooks/useToast';\r\nimport { validators } from '@/src/lib/utils/validation';\r\nimport { login as loginApi } from '@/src/lib/auth/auth';\r\nimport { colors, spacing } from '@/src/styles/tokens';\r\n\r\nconst loginValidationSchema = {\r\n  email: validators.email,\r\n  password: (password: string) => {\r\n    if (!password) return 'Password is required';\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const { toasts, removeToast, showSuccess, showError } = useToast();\r\n\r\n  const { values, errors, isSubmitting, handleChange, handleSubmit, setFieldError } =\r\n    useFormValidation(\r\n      { email: '', password: '', rememberMe: false },\r\n      async (formValues) => {\r\n        try {\r\n          const resp = await loginApi({\r\n            email: String(formValues.email || ''),\r\n            password: String(formValues.password || ''),\r\n            rememberMe: Boolean(formValues.rememberMe)\r\n          });\r\n\r\n          if (resp?.ok || resp?.token) {\r\n            showSuccess('Login successful!');\r\n            setTimeout(() => router.push('/dashboard'), 500);\r\n            return;\r\n          }\r\n\r\n          setFieldError('email', 'Invalid credentials');\r\n          showError('Invalid email or password');\r\n        } catch (err: any) {\r\n          const msg = err?.message || 'Login failed. Please try again.';\r\n          setFieldError('email', msg);\r\n          showError(msg);\r\n        }\r\n      },\r\n      loginValidationSchema\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <AuthLayout title=\"Sign In\" subtitle=\"Welcome back to VaultString\">\r\n        <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: spacing.lg }}>\r\n          <InputField\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            error={errors.email}\r\n            placeholder=\"you@example.com\"\r\n            required\r\n            autoComplete=\"email\"\r\n          />\r\n\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: spacing.sm }}>\r\n            <InputField\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              error={errors.password}\r\n              placeholder=\"••••••••\"\r\n              required\r\n              autoComplete=\"current-password\"\r\n            />\r\n            <Link\r\n              href=\"/reset-password\"\r\n              style={{\r\n                display: 'inline-block',\r\n                fontSize: '0.875rem',\r\n                color: colors.primary.green,\r\n                textDecoration: 'none',\r\n                transition: 'color 200ms ease-in-out',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.color = '#3a7a2b';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.color = colors.primary.green;\r\n              }}\r\n            >\r\n              Forgot password?\r\n            </Link>\r\n          </div>\r\n\r\n          <InputField\r\n            label=\"Remember me\"\r\n            name=\"rememberMe\"\r\n            type=\"checkbox\"\r\n            value={values.rememberMe}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <Button type=\"submit\" loading={isSubmitting}>\r\n            Sign In\r\n          </Button>\r\n\r\n          <SocialAuthDivider />\r\n\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: spacing.md }}>\r\n            <SocialButton\r\n              icon={<img src=\"/icons/google-icon.svg\" alt=\"Google\" width={20} height={20} />}\r\n              label=\"Google\"\r\n              onClick={() => showError('Google auth coming soon')}\r\n            />\r\n            <SocialButton\r\n              icon={<img src=\"/icons/apple-logo.svg\" alt=\"Apple\" width={20} height={20} />}\r\n              label=\"Apple\"\r\n              onClick={() => showError('Apple auth coming soon')}\r\n            />\r\n          </div>\r\n\r\n          <p\r\n            style={{\r\n              textAlign: 'center',\r\n              fontSize: '0.9375rem',\r\n              color: colors.neutral[600],\r\n            }}\r\n          >\r\n            Don't have an account?{' '}\r\n            <Link\r\n              href=\"/signup\"\r\n              style={{\r\n                color: colors.primary.green,\r\n                textDecoration: 'none',\r\n                fontWeight: '600',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.textDecoration = 'underline';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.textDecoration = 'none';\r\n              }}\r\n            >\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </AuthLayout>\r\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}