{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gondwe/Desktop/VaultString/Projects/vaultstring-frontend/app/dashboard/transactions/page.tsx"],"sourcesContent":["// app/dashboard/transactions/page.tsx\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { apiFetch, isAuthenticated } from '@/src/lib/api/api-client';\n\nexport default function TransactionsPage() {\n  const [txs, setTxs] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated()) return;\n    (async () => {\n      try {\n        const res = await apiFetch('/payments?limit=50&offset=0');\n        setTxs(Array.isArray(res?.transactions) ? res.transactions : []);\n      } catch (e: any) {\n        setError(e?.message || 'Failed to load transactions');\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-2xl font-semibold\">Transactions</h1>\n      <p className=\"text-muted-foreground\">Your recent activity.</p>\n\n      {loading && <div className=\"bg-card text-card-foreground rounded-xl border p-6\">Loading transactions...</div>}\n      {error && <div className=\"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800 rounded-xl p-4\">{error}</div>}\n\n      <div className=\"bg-card text-card-foreground rounded-xl border overflow-hidden\">\n        <table className=\"min-w-full\">\n          <thead>\n            <tr className=\"bg-muted text-left text-sm text-muted-foreground\">\n              <th className=\"px-4 py-3\">Date</th>\n              <th className=\"px-4 py-3\">Reference</th>\n              <th className=\"px-4 py-3\">Amount</th>\n              <th className=\"px-4 py-3\">Currency</th>\n              <th className=\"px-4 py-3\">Status</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y\">\n            {txs.map((t) => (\n              <tr key={String(t.id)} className=\"text-sm\">\n                <td className=\"px-4 py-3\">{String(t.created_at || t.initiated_at)}</td>\n                <td className=\"px-4 py-3 font-mono\">{String(t.reference)}</td>\n                <td className=\"px-4 py-3\">{String(t.amount)}</td>\n                <td className=\"px-4 py-3\">{String(t.currency)}</td>\n                <td className=\"px-4 py-3\">\n                  <span className={`px-2 py-1 rounded-md text-xs ${String(t.status).toLowerCase() === 'completed' ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300' : String(t.status).toLowerCase() === 'failed' ? 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300' : 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200'}`}>{String(t.status)}</span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;AAGtC;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iZAAQ,EAAQ,EAAE;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iZAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iZAAQ,EAAgB;IAElD,IAAA,kZAAS,EAAC;QACR,IAAI,CAAC,IAAA,sNAAe,KAAI;QACxB,CAAC;YACC,IAAI;gBACF,MAAM,MAAM,MAAM,IAAA,+MAAQ,EAAC;gBAC3B,OAAO,MAAM,OAAO,CAAC,KAAK,gBAAgB,IAAI,YAAY,GAAG,EAAE;YACjE,EAAE,OAAO,GAAQ;gBACf,SAAS,GAAG,WAAW;YACzB,SAAU;gBACR,WAAW;YACb;QACF,CAAC;IACH,GAAG,EAAE;IAEL,qBACE,8aAAC;QAAI,WAAU;;0BACb,8aAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8aAAC;gBAAE,WAAU;0BAAwB;;;;;;YAEpC,yBAAW,8aAAC;gBAAI,WAAU;0BAAqD;;;;;;YAC/E,uBAAS,8aAAC;gBAAI,WAAU;0BAAwH;;;;;;0BAEjJ,8aAAC;gBAAI,WAAU;0BACb,cAAA,8aAAC;oBAAM,WAAU;;sCACf,8aAAC;sCACC,cAAA,8aAAC;gCAAG,WAAU;;kDACZ,8aAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8aAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8aAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8aAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8aAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG9B,8aAAC;4BAAM,WAAU;sCACd,IAAI,GAAG,CAAC,CAAC,kBACR,8aAAC;oCAAsB,WAAU;;sDAC/B,8aAAC;4CAAG,WAAU;sDAAa,OAAO,EAAE,UAAU,IAAI,EAAE,YAAY;;;;;;sDAChE,8aAAC;4CAAG,WAAU;sDAAuB,OAAO,EAAE,SAAS;;;;;;sDACvD,8aAAC;4CAAG,WAAU;sDAAa,OAAO,EAAE,MAAM;;;;;;sDAC1C,8aAAC;4CAAG,WAAU;sDAAa,OAAO,EAAE,QAAQ;;;;;;sDAC5C,8aAAC;4CAAG,WAAU;sDACZ,cAAA,8aAAC;gDAAK,WAAW,CAAC,6BAA6B,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,OAAO,cAAc,yEAAyE,OAAO,EAAE,MAAM,EAAE,WAAW,OAAO,WAAW,iEAAiE,4EAA4E;0DAAG,OAAO,EAAE,MAAM;;;;;;;;;;;;mCANnX,OAAO,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAelC"}}]
}